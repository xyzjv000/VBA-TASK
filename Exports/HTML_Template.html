<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chart Report</title>
    <link rel="stylesheet" type="text/css" href="{{cssFilePath}}" />
  </head>
  <body>
    <div class="hamburger" onclick="toggleSidebar()">
      <div></div>
      <div></div>
      <div></div>
    </div>

    <div id="mySidebar" class="sidebar">
      <a href="javascript:void(0)" class="closebtn" onclick="toggleSidebar()"
        >&times;</a
      >
      <div id="filter1">
        <div class="filter-container">
          <label for="filter1-portfolio">Portfolio</label>
          <select name="filter1-portfolio" id="filter1-portfolio"></select>
        </div>
        <div class="filter-container">
          <label for="filter1-status">Status</label>
          <select name="filter1-status" id="filter1-status"></select>
        </div>
        <div class="filter-container">
          <label for="filter1-association">Association</label>
          <select name="filter1-association" id="filter1-association"></select>
        </div>
        <div class="filter-container">
          <label for="filter1-agreement-filter">Agreement</label>
          <select name="filter1-agreement" id="filter1-agreement"></select>
        </div>
        <div class="filter-container">
          <label for="filter1-nmi">NMI</label>
          <select name="filter1-nmi" id="filter1-nmi"></select>
        </div>
      </div>
      <div id="filter2">
        <div class="filter-container">
          <label for="filter2-year">Year</label>
          <select name="filter2-year" id="filter2-year"></select>
        </div>
        <div class="filter-container">
          <label for="filter2-margin">Types of Margin</label>
          <select name="filter2-margin" id="filter2-margin"></select>
        </div>
      </div>
      <div id="filter3">
        <div class="filter-container">
          <label for="filter3-nmi">NMI</label>
          <select name="filter3-nmi" id="filter3-nmi"></select>
        </div>
        <div class="filter-container">
          <label for="filter3-fy">Financial Year</label>
          <select name="filter3-fy" id="filter3-fy"></select>
        </div>
        <div class="filter-container">
          <label for="filter3-type">Type</label>
          <select name="filter3-type" id="filter3-type"></select>
        </div>
        <div class="filter-container">
          <label for="filter3-portfolio">Portfolio</label>
          <select name="filter3-portfolio" id="filter3-portfolio"></select>
        </div>
        <div class="filter-container">
          <label for="filter3-status">Status</label>
          <select name="filter3-status" id="filter3-status"></select>
        </div>
        <div class="filter-container">
          <label for="filter3-agreement">Agreement</label>
          <select name="filter3-agreement" id="filter3-agreement"></select>
        </div>
        <div class="filter-container">
          <label for="filter3-association">Association</label>
          <select name="filter3-association" id="filter3-association"></select>
        </div>
      </div>
    </div>
    <div class="container">
      <div class="chart">
        <div class="chart-container">
          <div class="chart-item">
            <center><h3>Historical Performance FY2024 Actuals</h3></center>
            <div id="hpfy24a"></div>
          </div>
          <div class="chart-item">
            <center><h3>Percentage Fees in FY2024</h3></center>
            <div id="pfify24"></div>
          </div>
        </div>
        <br />
        <div class="table-container">
          <table id="table1">
            <thead>
              <tr id="headerRow"></tr>
            </thead>
            <tbody>
              <tr id="dataRow"></tr>
            </tbody>
          </table>
        </div>
        <br />
        <hr />
        <!-- FY25 Actual vs POE -->
        <div>
          <div class="chart-item">
            <center><h3>FY25 Actual vs POE</h3></center>
            <div id="fy25avspoe"></div>
          </div>
        </div>
        <div class="table-container">
          <table id="table2">
            <thead>
              <tr id="headerRow"></tr>
            </thead>
            <tbody>
              <tr id="dataRow"></tr>
            </tbody>
          </table>
        </div>
        <br />
        <hr />
        <!-- FY26 Actual vs POE -->
        <div>
          <div class="chart-item">
            <center><h3>FY26 Actual vs POE</h3></center>
            <div id="fy26avspoe"></div>
          </div>
        </div>
        <div class="table-container">
          <table id="table3">
            <thead>
              <tr id="headerRow"></tr>
            </thead>
            <tbody>
              <tr id="dataRow"></tr>
            </tbody>
          </table>
        </div>
        <br />
        <hr />
        <!-- Actual Cost and Percentage -->

        <br />
        <div>
          <div class="chart-item">
            <center><h3>Actual Cost and Percentage</h3></center>
            <div style="display: flex; flex-wrap: wrap; gap: 1rem">
              <div id="acap"></div>
              <div style="flex: 1" class="table-container">
                <table id="table5">
                  <thead>
                    <tr id="headerRow"></tr>
                  </thead>
                  <tbody>
                    <tr id="dataRow"></tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
        <br />
        <hr />
        <div>
          <div class="chart-item">
            <center><h3>Financial Year Actual Margin vs POE</h3></center>
            <div id="fyamvspoe"></div>
          </div>
        </div>
        <div class="table-container">
          <table id="table4">
            <thead>
              <tr id="headerRow"></tr>
            </thead>
            <tbody>
              <tr id="dataRow"></tr>
            </tbody>
          </table>
        </div>
        <hr />
        <br />
        <!-- Retail Margin per NMI Base -->
        <div>
          <div class="chart-item">
            <center><h3>Retail Margin per NMI Base</h3></center>
            <h4 id="loading">Loading please wait...</h4>
            <div id="rmpnmibase"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="footer">
      <div class="footer-container">
        <!-- Footer items will be injected here -->
      </div>
    </div>
    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/maps.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/animated.js"></script>
    <script>
      var versionData = {{versionData}};
      var nmiJsonData = {{nmiJson}}
      var combinedDataJsonFull = {{combinedFullJson}}
      console.log("versionData",versionData);
      console.log("nmiJsonData",nmiJsonData);
      console.log("combinedDataJsonFull",combinedDataJsonFull);
    </script>
    <script src="{{jsFilePath}}"></script>
  </body>
</html>
